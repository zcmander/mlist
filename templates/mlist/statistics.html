{% extends "mlist/base.html" %}
{% load static %}
{% load mlist_extras %}

{% block container %}
    <h1 class="page-header">Statistics</h1>

    <div class="row">
    <div class="col-4 offset-4">
      <div class="alert alert-info js-loading">
        <p style="text-align:center">Exporting movies...</p>
      </div>
    </div>
  </div>

    <div class="thumbnails js-results row" style="display:none">
      <div class="col-md-6">
        <div class="thumbnail">
            <div class="caption">
              <h4>Tag distribution</h4>
            </div>
          <div id="chart-media-distribution" class="chart chart-pie"></div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="thumbnail">
            <div class="caption">
                <h4>Genre distribution</h4>
            </div>
          <div id="chart-genre-distribution" class="chart chart-pie"></div>
        </div>
      </div>
      <div class="col-12">
        <div class="thumbnail">
          <div class="caption">
            <h4>Watched movies</h4>
            Samples per:
            <div class="btn-group samplechooser">
                <button class="btn btn-secondary">Year</button>
                <button class="btn btn-secondary active">Month</button>
                <button class="btn btn-secondary">Week</button>
            </div>
          </div>
          <div id="chart-watched-movies" class="chart"></div>
        </div>
      </div>
      <div class="col-12">
        <div class="thumbnail">
          <div class="caption">
            <h4>Historical distribution</h4>

            Samples per:
            <div class="btn-group samplechooser">
                <button class="btn btn-secondary">Year</button>
                <button class="btn btn-secondary active">Month</button>
                <button class="btn btn-secondary">Week</button>
            </div>
          </div>
          <div id="chart-media-historical-distribution" class="chart"></div>
        </div>
      </div>

      <div class="col-12">
        <div class="thumbnail">
          <div class="caption">
            <h4>Watch date vs. movie release date</h4>
          </div>
          <div id="chart-watchdate-vs-movieyear" class="chart"></div>
        </div>
      </div>
    </div>
{% endblock %}

{% block script %}
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
    </script>
    <script type="text/javascript">
    $(function() {

      google.charts.setOnLoadCallback(mlist.statistics.init);
    });
    </script>
{% endblock %}
