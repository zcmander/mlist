{% extends 'mlist/base.html' %}
{% load crispy_forms_tags %}
{% load mlist_extras %}

{% block container %}
    {% crispy form %}

    {% if query %}
        <h5>Results</h5>

        <ul class="thumbnails movielist">
        {% for result in page.object_list %}
            <li class="span2">
                {% with mic=result.object %}
                    {% include "mlist/includes/movie_thumbnail.html" %}
                {% endwith %}
            </li>
        {% empty %}
            <li>No results found.</li>
        {% endfor %}
        </ul>

        <ul class="pager">
          {% if page.has_previous %}
          <li class="previous">
            <a href="{% query_string "" "page" %}&page={{page.previous_page_number}}">&larr; Newer</a>
          </li>
          {% endif %}

          <li class="current">
            Page {{ page.number }} of {{ page.paginator.num_pages }}
          </li>

          {% if page.has_next %}
          <li class="next">
            <a href="{% query_string "" "page" %}&page={{page.next_page_number}}">Older &rarr;</a>
          </li>
          {% endif %}
        </ul>


    {% else %}
        {# Show some example queries to run, maybe query syntax, something else? #}
    {% endif %}

{% endblock %}
